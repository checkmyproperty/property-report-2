<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Property Report Generator</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <h2>Property Address</h2>
      <input id="address-input" type="text" placeholder="Enter address here" />
      
      <!-- Add County Selector -->
      <div class="county-selector">
        <label for="county-select">County:</label>
        <select id="county-select">
          <option value="harris">Harris County</option>
          <option value="fortbend">Fort Bend County</option>
          <option value="none">None (Skip Scraping)</option>
        </select>
      </div>
      
      <button id="fetch-btn">Fetch Report</button>
      <div id="status-box">Enter address and click Fetch.</div>
      
      <!-- Property Image will be inserted here by JavaScript -->
      
      <!-- Add Collapse/Expand all buttons -->
      <div class="collapse-controls">
        <button id="collapse-all-btn">Collapse All Sections</button>
        <button id="expand-all-btn">Expand All Sections</button>
      </div>

      <section class="selectors">
        <!-- Property Details Section -->
        <div class="collapsible-section">
          <h3 class="section-header">
            <button class="collapse-toggle" aria-expanded="true">
              <span class="toggle-icon">▼</span>
              Property Details
            </button>
          </h3>
          <div class="section-content">
            <div class="field-container">
              <div class="field-grid">
                <div class="field-row">
                  <label>Beds</label>
                  <div class="input-source-group">
                    <input id="beds-input" type="text" placeholder="Beds" class="field-input" />
                    <select id="beds-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Baths</label>
                  <div class="input-source-group">
                    <input id="baths-input" type="text" placeholder="Baths" class="field-input" />
                    <select id="baths-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>Total Rooms</label>
                  <div class="input-source-group">
                    <input id="rooms-input" type="text" placeholder="Rooms" class="field-input" />
                    <select id="rooms-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Year Built</label>
                  <div class="input-source-group">
                    <input id="year-input" type="text" placeholder="Year Built" class="field-input" />
                    <select id="year-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>Living Area (sqft)</label>
                  <div class="input-source-group">
                    <input id="living-input" type="text" placeholder="Living Area" class="field-input" />
                    <select id="living-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Lot Size (sqft)</label>
                  <div class="input-source-group">
                    <input id="lot-input" type="text" placeholder="Lot Size" class="field-input" />
                    <select id="lot-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>Construction Type</label>
                  <div class="input-source-group">
                    <input id="construction-input" type="text" placeholder="Construction Type" class="field-input" />
                    <select id="construction-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Garage</label>
                  <div class="input-source-group">
                    <input id="garage-input" type="text" placeholder="Garage" class="field-input" />
                    <select id="garage-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>Parking Spaces</label>
                  <div class="input-source-group">
                    <input id="parking-input" type="text" placeholder="Parking Spaces" class="field-input" />
                    <select id="parking-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Financial Information Section -->
        <div class="collapsible-section">
          <h3 class="section-header">
            <button class="collapse-toggle" aria-expanded="true">
              <span class="toggle-icon">▼</span>
              Financial Information
            </button>
          </h3>
          <div class="section-content">
            <div class="field-container">
              <div class="field-grid">
                <div class="field-row">
                  <label>Assessed Value</label>
                  <div class="input-source-group">
                    <input id="assessed-input" type="text" placeholder="Assessed Value" class="field-input" />
                    <select id="assessed-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Land Value</label>
                  <div class="input-source-group">
                    <input id="land-value-input" type="text" placeholder="Land Value" class="field-input" />
                    <select id="land-value-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>Improvement Value</label>
                  <div class="input-source-group">
                    <input id="improvement-value-input" type="text" placeholder="Improvement Value" class="field-input" />
                    <select id="improvement-value-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Tax Amount</label>
                  <div class="input-source-group">
                    <input id="tax-input" type="text" placeholder="Tax Amount" class="field-input" />
                    <select id="tax-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>Last Sale Price</label>
                  <div class="input-source-group">
                    <input id="last-sale-price-input" type="text" placeholder="Last Sale Price" class="field-input" />
                    <select id="last-sale-price-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Last Sale Date</label>
                  <div class="input-source-group">
                    <input id="last-sale-date-input" type="text" placeholder="Last Sale Date" class="field-input" />
                    <select id="last-sale-date-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- School Information Section -->
        <div class="collapsible-section">
          <h3 class="section-header">
            <button class="collapse-toggle" aria-expanded="true">
              <span class="toggle-icon">▼</span>
              School Information
            </button>
          </h3>
          <div class="section-content">
            <div class="field-container">
              <div class="field-grid">
                <div class="field-row">
                  <label>School District</label>
                  <div class="input-source-group">
                    <input id="school-district-input" type="text" placeholder="School District" class="field-input" />
                    <select id="school-district-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>School Name</label>
                  <div class="input-source-group">
                    <input id="school-name-input" type="text" placeholder="School Name" class="field-input" />
                    <select id="school-name-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="field-grid">
                <div class="field-row">
                  <label>School Score</label>
                  <div class="input-source-group">
                    <input id="school-score-input" type="text" placeholder="School Score" class="field-input" />
                    <select id="school-score-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Risk Assessment Section -->
        <div class="collapsible-section">
          <h3 class="section-header">
            <button class="collapse-toggle" aria-expanded="true">
              <span class="toggle-icon">▼</span>
              Risk Assessment
            </button>
          </h3>
          <div class="section-content">
            <div class="field-container">
              <div class="field-grid">
                <div class="field-row">
                  <label>Fire Risk</label>
                  <div class="input-source-group">
                    <input id="fire-risk-input" type="text" placeholder="Fire Risk" class="field-input" />
                    <select id="fire-risk-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Wind Risk</label>
                  <div class="input-source-group">
                    <input id="wind-risk-input" type="text" placeholder="Wind Risk" class="field-input" />
                    <select id="wind-risk-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Owner Information Section -->
        <div class="collapsible-section">
          <h3 class="section-header">
            <button class="collapse-toggle" aria-expanded="true">
              <span class="toggle-icon">▼</span>
              Owner Information
            </button>
          </h3>
          <div class="section-content">
            <div class="field-container">
              <div class="field-grid">
                <div class="field-row">
                  <label>Owner</label>
                  <div class="input-source-group">
                    <input id="owner-input" type="text" placeholder="Owner" class="field-input" />
                    <select id="owner-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
                
                <div class="field-row">
                  <label>Mailing Address</label>
                  <div class="input-source-group">
                    <input id="mailing-input" type="text" placeholder="Mailing Address" class="field-input" />
                    <select id="mailing-select" class="source-select">
                      <option value="attom">ATTOM</option>
                      <option value="county">County</option>
                      <option value="manual">Manual</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </aside>

    <main class="report-viewer">
      <section id="loading-overlay" class="overlay hidden">Loading property data...</section>
      <section class="pdf-container" id="pdf-preview"></section>
      <footer>
        <button id="prev-page" disabled>◀ Previous</button>
        <div class="page-indicator">Page <span id="current-page">0</span> of <span id="total-pages">0</span></div>
        <button id="next-page" disabled>Next ▶</button>
        <a id="download-pdf" class="download-btn disabled" href="#">Download PDF</a>
      </footer>
    </main>
  </div>
  <script src="script.js"></script>
</body>
</html>